<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head profile="http://purl.org/NET/erdf/profile">
    <META http-equiv="Content-Type" content="text/html; charset=utf-16">
    <title>
					mca blog
					
									[hypermedia - seriously (part 2)]
								</title>
    <link rel="alternate" type="application/x-wiki" title="Edit this blog" href="http://amundsen.com/blog/edit/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for mca blog" href="../feed/index.html">
    <link rel="stylesheet" type="text/css" href="http://amundsen.com/server/conflate/?/xcs/blogging/css/blogging.css,/xcs/blogging/css/blogging-layout.css,/xcs/blogging/css/blogging-iran-election.css">
    <link rel="search" type="application/opensearchdescription+xml" title="MikeAmundsen and friends" href="http://wego-wego.appspot.com/friendfeed/mamund/osd/">
    <link rel="schema.rdfs" href="http://www.w3.org/2000/01/rdf-schema#">
    <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.foaf" href="http://xmlns.com/foaf/0.1/">
    <link rel="schema.bio" href="http://vocab.org/bio/0.1/">
    <link rel="schema.contact" href="http://www.w3.org/2000/10/swap/pim/contact#">
    <link rel="schema.air" href="http://www.daml.org/2001/10/html/airport-ont#">
    <link rel="schema.wn" href="http://xmlns.com/wordnet/1.6/">
    <link rel="schema.rss" href="http://purl.org/rss/1.0/">
    <link rel="schema.terms" href="http://purl.org/dc/terms/">
    <link rel="schema.rel" href="http://purl.org/vocab/relationship/">
    <link rel="schema.geo" href="http://www.w3.org/2003/01/geo/wgs84_pos#">
    <link rel="schema.aff" href="http://purl.org/vocab/affiliations/0.1/">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <link rel="schema.org" href="http://purl.org/vocab/organizations/0.1/">
    <link rel="schema.psych" href="http://purl.org/vocab/psychometric-profile/">
    <link rel="schema.doap" href="http://usefulinc.com/ns/doap#">
    <style type="text/css">
					form
					{
					font-size:small;
					padding:.3em;
					text-align:center;
					}
					input
					{
					font-size:x-small;
					}
					#twitter_div
					{
					/*
					width:95%
					padding:.2em;
					border:1px solid black;
					*/
					}
					#twitter_div h2
					{
					margin:0;
					padding:0;
					float:right;
					}
					.twitter-title
					{

					}
					#twitter_update_list
					{
					font-family:monospace;
					list-style:none;
					margin:0;
					padding:0;
					float:none;
					clear:both;
					}
					#twitter_update_list li
					{
					border:1px solid silver;
					background-color:#e6e6e6;
					margin:.2em .2em;
					}
					.twitter-link
					{
					display:block;
					float:right;
					margin-right: .7em;
					}
					#twitter_div a
					{
					text-decoration:none;
					}
					#twitter_div a:hover
					{
					text-decoration:underline;
					}
					.empty
					{
					float:none;
					clear:both;
					visibility:hidden;
					margin:0;
					padding:0;
					}
				</style><script type="text/javascript" src="http://amundsen.com/server/conflate/?/xcs/blogging/scripts/blogging.js,/lib/jscap/jcap.js,/lib/jscap/md5.js">//</script></head>
  <body>
    <div id="wrap">
      <div id="header">
        <h1><a href="../index.html" title="home page">mca blog</a></h1>
        <p class="title-desc">life in lowercase</p>
      </div>
      <div id="nav">
        <ul>
          <li><a href="../index.html" title="home page">Home</a></li>
          <li><a href="../categories/index.html" title="blog categories">Categories</a></li>
          <li><a href="../websites/index.html" title="intersting web sites">Web Sites</a></li>
          <li><a href="index.html" title="browse the archives">Archives</a></li>
        </ul>
      </div>
      <div id="main">
        <h2 class="dc-title">hypermedia - seriously (part 2)</h2>
        <div class="weblog">
          <div class="wb-header"><span class="foaf-maker" style="display:none;"><a href="http://www.amundsen.com/blog/author/mamund" title="Posted by mamund">mamund</a></span><span class="logdate" style="margin-left:1em;">2008-04-27 @ 21:51</span><span class="permalink"><a href="765.html" title="perma-link">#</a></span></div>
          <div class="dc-description"><p>
<a href="http://farm1.static.flickr.com/38/114255170_e3067ee02f.jpg" title="two">
<img src="http://farm1.static.flickr.com/38/114255170_e3067ee02f_t.jpg" align="right" class="inline" />
</a>
i recently made a <a href="757.html" title="hypermedia and JSON">couple</a> <a href="760.html" title="Atom.JSON?, well...">of</a> <a href="762.html" title="hypermedia - seriously">posts</a> that focused on the fourth pillar of <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm" title="Architectural Styles and the Design of Network-based Software Architectures">REST </a> ("hypermedia as the engine of application state"). in one of these posts i made the following assetion:</p>
<blockquote>
actually, JSON is not a media-type. it's a serialization type. 
</blockquote>
<p>subbu <a href="http://www.subbu.org/weblogs/main/2008/04/hypermedia_clie.html" title="Hypermedia Clients">called me on that one</a> and he made some very good points. however, i still have some issue with <a href="http://json.org" title="JSON">JSON</a> that i want to cover here. and it all has to do with <em>hypermedia</em>.</p>
<h4>hypermedia clients</h4>
<p>the common web browser is probably the best example of a "hypermedia client." web browsers allow users to request resources and, when available, render hyperlinks within that document. the web browser needs no prior knowledge of the existence or meaning of the hyperlinks before the request is fulfilled by a server. the same holds true for form elements within a resource. servers can fill a client request and send down the proper information to allow the web browser to render an input form with enough details to prompt a user to enter data and send it back to the server for processing. this is (X)HTML and this is hypermedia.
</p>
<h4>the engine of application state</h4>
<p>the ability to follow hyperlinks and send data fields to the server makes it possible for clients to  alter the state of the application. in this way, common browsers enable this fourth pillar of REST. actually, it's the web browser's ability properly understand and render (X)HTML documents that makes this possible. it's the content-type (<code>text/html</code>) that contains the rich schema that web browsers can use to render the documents. thus, <code>text/html</code> is not just a media-type, it is a special kind of media-type - a <em>hypermedia-type</em>.</p>
<h4>JSON is not a hypermedia-type</h4>
<p>JSON is a very good media-type for serializing objects and collections in Javascript. however, it was never intended to act as a full-blown hypermedia type. it lacks a schema that contains definitions for links and forms. in this way, JSON is not able to fulfill the role of supporting the fourth pillar of REST. JSON documents, when sent to the client, cannot act "as the engine of application state." that doesn't mean you can't build a client application that uses JSON as the media-type. lots of them exist. but they are, by nature always going to be one-off applications. applications built for a specific set of interactions. and, if the server changes significantly, the client will break. data will be missing, workflow will no longer function. important steps in the alteration of application state will be skipped.</p>
<h4>application/hypermedia+json</h4>
<p>to my way of thinking, defining a new media-type - one that fulfills the hypermedia requirements and still uses JSON as the serialization format - is not complicated. this is, essentially, what <a href="http://en.wikipedia.org/wiki/Atom_(standard)" title="Atom (standard)">Atom</a> did for the (non-hypermedia) <code>text/xml</code> media-type. at the core, a schema that defines links and forms withing a JSON resource is needed. much of the work is already done (see <a href="http://www.w3.org/TR/xlink/" title="XML Linking Language (XLink) Version 1.0">XLink</a> and <a href="http://www.w3.org/TR/xforms/" title="XForms 1.0 (Third Edition)">XForms</a> for examples). without sweating the small stuff (and there's lots of small stuff), the following JSON snippets should point the way to a possible hypermedia format (please pardon my sloppy JSON here):</p>
<pre class="code">
{"linK" :
  {
    "href" : "/users/",
    "title" : "user list"
  }
}

{"links" :
  [
    {
      "href" : "/users/",
      "title" : "user list"
    },
    {
      "href" : "/users/?recent",
      "title" : "new users"
    },
    {
      "href" : "/users/?admin",
      "title" : "admin users"
    } 
  ]
}

{"input":
  {
    "type":"single-line",
    "name":"user-name",
    "validator":"^[\w]{5,25}$"
  }
}

{"form" :
  {
    "href" : "/comments/",
    "method" : "post",
    "accept" : "text/xml"
  }
  "inputs" :
  [
    {
      "type" : "single-line",
      "name" : "user-name",
      "validator" : "^[\w]{5,25}$"
    },
    {
      "type" : "single-line",
      "name" : "email",
      "validator" : "\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b"
    },
    {
      "type" : "multi-line",
      "name" : "body",
      "validator" : "^.{1,500}$"
    }
  ]
}
</pre>
<p>by establishing a well-defined schema for handling hypermedia, JSON can become a full-fledged format for controlling application state. this would make it possible for JSON-enabled clients to handle changes in workflow and data-models without having to re-write the client code.</p></div>
          <p class="category"><a href="index.html%3Fcategory=5.html" title="more from code...">code</a></p>
          <hr><a id="comments"></a><script>
						var idcomments_acct = 'b941b488f39712a0d6409992a0d7fc47';
						var idcomments_post_id;
						var idcomments_post_url;
					</script><span id="IDCommentsPostTitle" style="display:none"></span><script type="text/javascript" src="http://www.intensedebate.com/js/genericCommentWrapperV2.js"></script></div>
        <div> </div>
      </div>
      <div id="sidebar">
        <h4>categories</h4>
        <ul>
          <li><a href="index.html%3Fcategory=33.html">Systems</a></li>
          <li><a href="index.html%3Fcategory=32.html">CA</a></li>
          <li><a href="index.html%3Fcategory=31.html">IoT</a></li>
          <li><a href="index.html%3Fcategory=30.html">ALPS</a></li>
          <li><a href="index.html%3Fcategory=29.html">API</a></li>
          <li>[<a href="../categories/index.html%3Fall.html" title="view all categories">all</a>]</li>
        </ul>
        <h4>websites</h4>
        <ul>
          <li><a href="../websites/32.html">Untangled</a></li>
          <li><a href="../websites/31.html">Anne’s Weblog</a></li>
          <li><a href="../websites/30.html">exyus</a></li>
          <li><a href="../websites/29.html">Random Stuff</a></li>
          <li><a href="../websites/28.html">JScript Blog</a></li>
          <li>[<a href="../websites/index.html%3Fall.html" title="view all websites">all</a>]</li>
        </ul>
        <h4>archives</h4>
        <ul>
          <li><a href="index.html%3Ftoday.html" title="today's posts">today</a></li>
          <li><a href="index.html%3Fyesterday.html" title="yesterday's posts">yesterday</a></li>
          <li><a href="index.html%3Fthisweek.html" title="this weeks's posts">this week</a></li>
          <li><a href="index.html%3Flastweek.html" title="last week's posts">last week</a></li>
          <li><a href="index.html%3Fthismonth.html" title="this month's posts">this month</a></li>
          <li><a href="index.html%3Flastmonth.html" title="last month's posts">last month</a></li>
          <li>
								[<a href="index.html" title="browse the archives">browse</a>]
							</li>
        </ul>
        <div> </div>
        <div><xscript type="text/javascript" src="http://plancast.com/goodies/widgets/sidebar/1/15731">// plancast</xscript></div>
        <div id="twitter_div">
          <h4>my tweets</h4>
          <ul id="twitter_update_list"></ul>
          <div class="twitter-link"><a href="http://twitter.com/mamund" title="follow me on Twitter">
									follow me
								</a></div>
          <hr class="empty">
        </div>
      </div>
      <div id="ads" style="text-align:center;"><script type="text/javascript">
							google_ad_client = "pub-2944238157647009";
							google_ad_width = 728;
							google_ad_height = 90;
							google_ad_format = "728x90_as";
							google_ad_type = "text";
							//2007-08-10: amundsen.com
							google_ad_channel = "2960096544";
							google_color_border = "000000";
							google_color_bg = "F0F0F0";
							google_color_link = "000000";
							google_color_text = "000000";
							google_color_url = "000000";
						</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
      <div id="footer">
        <p>Copyright © 2007-2010 amundsen.com, inc. All rights reserved.</p>
      </div>
    </div><script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script><script type="text/javascript" src="http://twitter.com/statuses/user_timeline/mamund.json?callback=twitterCallback2&amp;count=5"></script><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
					_uacct = "UA-2399548-1";
					urchinTracker();
				</script></body>
</html>