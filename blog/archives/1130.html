<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head profile="http://purl.org/NET/erdf/profile">
    <META http-equiv="Content-Type" content="text/html; charset=utf-16">
    <title>
					mca blog
					
									[Fielding constraints, web frameworks]
								</title>
    <link rel="alternate" type="application/x-wiki" title="Edit this blog" href="http://amundsen.com/blog/edit/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for mca blog" href="../feed/index.html">
    <link rel="stylesheet" type="text/css" href="http://amundsen.com/server/conflate/?/xcs/blogging/css/blogging.css,/xcs/blogging/css/blogging-layout.css,/xcs/blogging/css/blogging-iran-election.css">
    <link rel="search" type="application/opensearchdescription+xml" title="MikeAmundsen and friends" href="http://wego-wego.appspot.com/friendfeed/mamund/osd/">
    <link rel="schema.rdfs" href="http://www.w3.org/2000/01/rdf-schema#">
    <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.foaf" href="http://xmlns.com/foaf/0.1/">
    <link rel="schema.bio" href="http://vocab.org/bio/0.1/">
    <link rel="schema.contact" href="http://www.w3.org/2000/10/swap/pim/contact#">
    <link rel="schema.air" href="http://www.daml.org/2001/10/html/airport-ont#">
    <link rel="schema.wn" href="http://xmlns.com/wordnet/1.6/">
    <link rel="schema.rss" href="http://purl.org/rss/1.0/">
    <link rel="schema.terms" href="http://purl.org/dc/terms/">
    <link rel="schema.rel" href="http://purl.org/vocab/relationship/">
    <link rel="schema.geo" href="http://www.w3.org/2003/01/geo/wgs84_pos#">
    <link rel="schema.aff" href="http://purl.org/vocab/affiliations/0.1/">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <link rel="schema.org" href="http://purl.org/vocab/organizations/0.1/">
    <link rel="schema.psych" href="http://purl.org/vocab/psychometric-profile/">
    <link rel="schema.doap" href="http://usefulinc.com/ns/doap#">
    <style type="text/css">
					form
					{
					font-size:small;
					padding:.3em;
					text-align:center;
					}
					input
					{
					font-size:x-small;
					}
					#twitter_div
					{
					/*
					width:95%
					padding:.2em;
					border:1px solid black;
					*/
					}
					#twitter_div h2
					{
					margin:0;
					padding:0;
					float:right;
					}
					.twitter-title
					{

					}
					#twitter_update_list
					{
					font-family:monospace;
					list-style:none;
					margin:0;
					padding:0;
					float:none;
					clear:both;
					}
					#twitter_update_list li
					{
					border:1px solid silver;
					background-color:#e6e6e6;
					margin:.2em .2em;
					}
					.twitter-link
					{
					display:block;
					float:right;
					margin-right: .7em;
					}
					#twitter_div a
					{
					text-decoration:none;
					}
					#twitter_div a:hover
					{
					text-decoration:underline;
					}
					.empty
					{
					float:none;
					clear:both;
					visibility:hidden;
					margin:0;
					padding:0;
					}
				</style><script type="text/javascript" src="http://amundsen.com/server/conflate/?/xcs/blogging/scripts/blogging.js,/lib/jscap/jcap.js,/lib/jscap/md5.js">//</script></head>
  <body>
    <div id="wrap">
      <div id="header">
        <h1><a href="../index.html" title="home page">mca blog</a></h1>
        <p class="title-desc">life in lowercase</p>
      </div>
      <div id="nav">
        <ul>
          <li><a href="../index.html" title="home page">Home</a></li>
          <li><a href="../categories/index.html" title="blog categories">Categories</a></li>
          <li><a href="../websites/index.html" title="intersting web sites">Web Sites</a></li>
          <li><a href="index.html" title="browse the archives">Archives</a></li>
        </ul>
      </div>
      <div id="main">
        <h2 class="dc-title">Fielding constraints, web frameworks</h2>
        <div class="weblog">
          <div class="wb-header"><span class="foaf-maker" style="display:none;"><a href="http://www.amundsen.com/blog/author/mamund" title="Posted by mamund">mamund</a></span><span class="logdate" style="margin-left:1em;">2012-06-05 @ 12:53</span><span class="permalink"><a href="1130.html" title="perma-link">#</a></span></div>
          <div class="dc-description"><p>
<a href="http://www.flickr.com/photos/quiteadept/3260632438/" title="Double six">
<img src="http://farm4.staticflickr.com/3414/3260632438_6b6421a91c_q.jpg" align="right" class="inline" />
</a>
in a recent 
<a href="http://rest.hackyhack.net/2012-06-04.html#128/h128">
IRC convo on the #REST channel</a> i ended up spilling out an overview of 
Fielding's constraint list as it relates to common Web frameworks and development
practices. i've been playing w/ this material for quite a while (close to a
year, based on some of my notes) and didn't really give much thought to posting
it on the channel. turns out i got a handful of positive reactions to the
summary and i figured i'd blog it here in order to give a bit wider exposure.
</p>
<h4>Fielding constraints</h4>
<p>
lately, i've been referring to the defintion of the REST style as "Fielding
Constraints." i do this to replace the overloaded term 'REST' with something
more specific and direct. not only does this cause listeners to 'perk up' when
i say it ("um, WTH did he just say?") but it does a pretty god job of 'short
circuiting' the 'meme-brain' and avoids bumping up against the mixed meanings
and assumptions many in my audience carry with them when they process the word
'REST.'
</p>
<p>
so, for the rest of this blog post, i'll be talking about "Fielding Constraints."
</p>
<h4>Web Frameworks</h4>
<p>
because of the kind of work i do right now (helping companies design, implement,
and maintain APIs for the Web), i get to see a wide variety of programming 
languages, development environments, and Web frameworks. most of the stuff i 
see is dang cool. some of the things i encounter, however, are a bit clunky; 
frameworks that make it 'hard' to 'do the right thing' when it comes to creating
solid, scalable, maintainable solutions for HTTP. 
</p>
<p>
sometimes things can 'get better' by just ignoring some aspects of the Web framework
in use. sometimes folks need to change habits when designing and implementing
solutions. occasionally, i encourage folks to just plain stop using a tool or
framework and migrate to others that make things easier in the long run.
in all those cases, my usual measure is whether a particular "Fielding Constraint"
is important to the implementation and whether the framework makes supporting that
constraint easy or not.
</p>
<p>so, with that in mind, let's go through the list of "Fielding Constraints" and
see where most Web frameworks fall in supporting them.
</p>
<h4>primary constraints</h4>
<p>
First, when crafting his REST style, Fielding selected 
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1">
six primary constraints</a> that should be adhered to in order to elicit the 
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/net_app_arch.htm#sec_2_3">
Architectural Properties of Key Interest</a> and one of them 
(<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_7">Code On Demand</a>) 
is optional; that leaves five.
</p>
<p>
if the five remaining primary constraints, three of them
(<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_2">Client-Server</a>, 
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_4">Cache</a>, and
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_6">Layered System</a>)
are mostly beyond the bounds of a typical dev environment. it's true that dev tools
can do some things to make supporting caching (both marking and validating requests)
easier, but for the most part, this can be handled outside the direct dev space 
using <a href="http://www.squid-cache.org/">Squid</a> and other similar stand-alone tools.
</p>
<p>
that leaves only two other primary constraints: 
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_3">Stateless</a> and
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5">Uniform Interface</a>.
supporting the Stateless constraint is easy, but is rarely "ON" by default in 
most Web frameworks. all that is needed is to turn "OFF" support for "session state"
on the server and almost all frameworks support this switch. 
</p>
<p>so there is only one constraint left (Uniform Interface) and that's the one
most all Web frameworks focus upon. that makes sense since this constraint
depends heavily on the details of implementation. it also turns out to be
the most interesting constraint in Fielding's list. so interesting, Fielding 
added four additional 'sub-constraints' to the Uniform Interface in order to better
describe and define it.
</p>
<h4>uniform interface sub-constraints</h4>
<p>
The Uniform Interface constraint is made up of four 'sub-constraints' and they are:
</p>
<ol>
<li>identification of resources</li>
<li>manipulation of resources through representations</li>
<li>self-descriptive messages</li>
<li>hypermedia as the engine of application state</li>
</ol>
<p>
from the above list, most Web frameworks devote a great deal of time to #1 
(<i>identification of resources</i>) and almost no time to #4
(<i>hypermedia as the engine of application state</i>). in HTTP #1 is expressed via 
<a href="http://tools.ietf.org/html/rfc3986" title="Uniform Resource Identifier (URI): Generic Syntax">URIs</a>.
Web frameworks fall all over themselves trying to automate the generation and
parsing of URIs; often to their detriment. instead of providing a clear, powerful
abstraction of identifiers for mapping to private components, most frameworks create 
restrictive rules that couple internal classes or functions directly to public 
URIs such that even minor changes in the structure of the source code can result in
breaking existing public URIs and/or forcing both clients and servers to adhere to
an overly-constrained interface that essentially negates the "uniform" aspect of
Fielding's model and creates "snowflake" API designs that reduce re-usability and
limit evolvability.
</p>
<p>
HTTP supports #2 (<i>manipulation of resources through representations</i>) through the
use of 
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec12.html">negotiated media types</a> 
at runtime. IOW, clients and servers have the 
ability in HTTP to choose the format in which server data will be represented.
This is unlike FTP, DNS, IRC, and other layer 7 protocols that pre-define the 
allowed formats for exchanging messages.
while most frameworks today support some level of representation abstraction, many
do it in rather odd ways (i.e. adding query string arguments such as <code>format=xml</code>, 
instead of using the existing <code>Accept</code> and <code>Content-Type</code> headers).
also, only a few frameworks "build in" support for
handling content-negotiation at runtime. instead, devs are often required to declare 
special URIs (or URI construction rules) for each representation format of the same resource. 
this can lead to URI explosion and maintainability problems both at run time 
(cache invalidation) and at design time (code maintainence).
</p>
<p>
the support for <i>self-descriptive messages</i> (#3) deals with the ability of
user agents (clients) and intermediaries (proxies) to succesfully 'replay' a stored
message w/o the need to contact the origin server first. basically, this is where
HTTP headers (metadata) and the payload come together to form a complete message
that can "stand alone" over time. this ties directly to supporting two of Fielding's 
primary constraints (Caching and Layered System) and happens w/o much fanfare in
most Web frameworks. there are times when design decisions by devs and architects
can impinge on this constraint (usually in cases where payload information 'leaks'
into metadata collections or vice-versa), but most of the time implementation details
don't wander into this space often. 
</p>
<p>that leaves only one more sub-constraint: the crazy cousin no-one wants to
talk about at family gatherings...
</p>
<h4>hypermedia</h4>
<p>
proly the most mis-understood and ignored of Fielding Constraints, it turns out
<i>hypermedia as the engine of application state</i> is the most unique and 
powerful of them all. it doesn't help that there is precious little information 
about hypermedia within 
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm" 
title="Architectural Styles and the Design of Network-based Software Architectures">
Fielding's dissertation</a>; the one line included in this blog
post is all that appears in the text. Fielding, himself, admitted this regrettable 
outcome: 
</p>
<blockquote>
<p>
To some extent, people get REST wrong because I failed to include enough detail 
on media type design within my dissertation.
</p>
<p align="right">
<a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven#comment-724">
Roy T. Fielding</a>
</p>
</blockquote>
<p>
since so little was initially written about the details of hypermedia, Web 
frameworks have (to date) simply ignored this constraint. 
</p>
<p>
not long ago, Fielding provided 
<a href="http://roy.gbiv.com/untangled/2008/rest-apis-must-be-hypertext-driven"
title="">additional information</a> on the use of hypermedia
as an architectrual element and this has, in part, spurred 
<a href="https://www.google.com/search?q=hypermedia+REST" 
title="hypermedia REST">renewed interest</a> in hypermedia
as a method for implementing Web solutions. however, i have yet to find a Web framework
that elevates hypermedia as a "first-class" element the way URI-construction is a 
first class element. hopefully, additional research will encourage product improvements
and we'll soon see real hypermedia development enviroments become available.
</p>
<h4>therefore...</h4>
<p>
when you reduce it down, there are only a small set of Fielding Constraints that
directly apply to the typical "coding" space: Stateless and Uniform Interface. and,
of those two, it is the sub-constraints of Uniform Interface which we most 
deal w/ when building real live apps for the Web. so far, frameworks (IMO) over-constrain 
the use of identifiers (URIs), fall short on supporting representation abstractions,
and completely ignore the use of hypermedia. 
</p>
<p>
it's not only my hope but one of my goals that development environments will
continue to evolve and improve in order to make it easier to build powerful
hypermedia applications for the Web. and i see some encouraging signs from both
the Rails and Microsoft WebAPI communities in this regard.
</p>
<p>
and i suspect i'm not the only one!
</p>
</div>
          <p class="category"><a href="index.html%3Fcategory=22.html" title="more from REST...">REST</a></p>
          <hr><a id="comments"></a><script>
						var idcomments_acct = 'b941b488f39712a0d6409992a0d7fc47';
						var idcomments_post_id;
						var idcomments_post_url;
					</script><span id="IDCommentsPostTitle" style="display:none"></span><script type="text/javascript" src="http://www.intensedebate.com/js/genericCommentWrapperV2.js"></script></div>
        <div> </div>
      </div>
      <div id="sidebar">
        <h4>categories</h4>
        <ul>
          <li><a href="index.html%3Fcategory=33.html">Systems</a></li>
          <li><a href="index.html%3Fcategory=32.html">CA</a></li>
          <li><a href="index.html%3Fcategory=31.html">IoT</a></li>
          <li><a href="index.html%3Fcategory=30.html">ALPS</a></li>
          <li><a href="index.html%3Fcategory=29.html">API</a></li>
          <li>[<a href="../categories/index.html%3Fall.html" title="view all categories">all</a>]</li>
        </ul>
        <h4>websites</h4>
        <ul>
          <li><a href="../websites/32.html">Untangled</a></li>
          <li><a href="../websites/31.html">Anne’s Weblog</a></li>
          <li><a href="../websites/30.html">exyus</a></li>
          <li><a href="../websites/29.html">Random Stuff</a></li>
          <li><a href="../websites/28.html">JScript Blog</a></li>
          <li>[<a href="../websites/index.html%3Fall.html" title="view all websites">all</a>]</li>
        </ul>
        <h4>archives</h4>
        <ul>
          <li><a href="index.html%3Ftoday.html" title="today's posts">today</a></li>
          <li><a href="index.html%3Fyesterday.html" title="yesterday's posts">yesterday</a></li>
          <li><a href="index.html%3Fthisweek.html" title="this weeks's posts">this week</a></li>
          <li><a href="index.html%3Flastweek.html" title="last week's posts">last week</a></li>
          <li><a href="index.html%3Fthismonth.html" title="this month's posts">this month</a></li>
          <li><a href="index.html%3Flastmonth.html" title="last month's posts">last month</a></li>
          <li>
								[<a href="index.html" title="browse the archives">browse</a>]
							</li>
        </ul>
        <div> </div>
        <div><xscript type="text/javascript" src="http://plancast.com/goodies/widgets/sidebar/1/15731">// plancast</xscript></div>
        <div id="twitter_div">
          <h4>my tweets</h4>
          <ul id="twitter_update_list"></ul>
          <div class="twitter-link"><a href="http://twitter.com/mamund" title="follow me on Twitter">
									follow me
								</a></div>
          <hr class="empty">
        </div>
      </div>
      <div id="ads" style="text-align:center;"><script type="text/javascript">
							google_ad_client = "pub-2944238157647009";
							google_ad_width = 728;
							google_ad_height = 90;
							google_ad_format = "728x90_as";
							google_ad_type = "text";
							//2007-08-10: amundsen.com
							google_ad_channel = "2960096544";
							google_color_border = "000000";
							google_color_bg = "F0F0F0";
							google_color_link = "000000";
							google_color_text = "000000";
							google_color_url = "000000";
						</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
      <div id="footer">
        <p>Copyright © 2007-2010 amundsen.com, inc. All rights reserved.</p>
      </div>
    </div><script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script><script type="text/javascript" src="http://twitter.com/statuses/user_timeline/mamund.json?callback=twitterCallback2&amp;count=5"></script><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
					_uacct = "UA-2399548-1";
					urchinTracker();
				</script></body>
</html>