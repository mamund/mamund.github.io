<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head profile="http://purl.org/NET/erdf/profile">
    <META http-equiv="Content-Type" content="text/html; charset=utf-16">
    <title>
					mca blog
					
									[GET and POST are RESTful enough]
								</title>
    <link rel="alternate" type="application/x-wiki" title="Edit this blog" href="http://amundsen.com/blog/edit/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for mca blog" href="../feed/index.html">
    <link rel="stylesheet" type="text/css" href="http://amundsen.com/server/conflate/?/xcs/blogging/css/blogging.css,/xcs/blogging/css/blogging-layout.css,/xcs/blogging/css/blogging-iran-election.css">
    <link rel="search" type="application/opensearchdescription+xml" title="MikeAmundsen and friends" href="http://wego-wego.appspot.com/friendfeed/mamund/osd/">
    <link rel="schema.rdfs" href="http://www.w3.org/2000/01/rdf-schema#">
    <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.foaf" href="http://xmlns.com/foaf/0.1/">
    <link rel="schema.bio" href="http://vocab.org/bio/0.1/">
    <link rel="schema.contact" href="http://www.w3.org/2000/10/swap/pim/contact#">
    <link rel="schema.air" href="http://www.daml.org/2001/10/html/airport-ont#">
    <link rel="schema.wn" href="http://xmlns.com/wordnet/1.6/">
    <link rel="schema.rss" href="http://purl.org/rss/1.0/">
    <link rel="schema.terms" href="http://purl.org/dc/terms/">
    <link rel="schema.rel" href="http://purl.org/vocab/relationship/">
    <link rel="schema.geo" href="http://www.w3.org/2003/01/geo/wgs84_pos#">
    <link rel="schema.aff" href="http://purl.org/vocab/affiliations/0.1/">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <link rel="schema.org" href="http://purl.org/vocab/organizations/0.1/">
    <link rel="schema.psych" href="http://purl.org/vocab/psychometric-profile/">
    <link rel="schema.doap" href="http://usefulinc.com/ns/doap#">
    <style type="text/css">
					form
					{
					font-size:small;
					padding:.3em;
					text-align:center;
					}
					input
					{
					font-size:x-small;
					}
					#twitter_div
					{
					/*
					width:95%
					padding:.2em;
					border:1px solid black;
					*/
					}
					#twitter_div h2
					{
					margin:0;
					padding:0;
					float:right;
					}
					.twitter-title
					{

					}
					#twitter_update_list
					{
					font-family:monospace;
					list-style:none;
					margin:0;
					padding:0;
					float:none;
					clear:both;
					}
					#twitter_update_list li
					{
					border:1px solid silver;
					background-color:#e6e6e6;
					margin:.2em .2em;
					}
					.twitter-link
					{
					display:block;
					float:right;
					margin-right: .7em;
					}
					#twitter_div a
					{
					text-decoration:none;
					}
					#twitter_div a:hover
					{
					text-decoration:underline;
					}
					.empty
					{
					float:none;
					clear:both;
					visibility:hidden;
					margin:0;
					padding:0;
					}
				</style><script type="text/javascript" src="http://amundsen.com/server/conflate/?/xcs/blogging/scripts/blogging.js,/lib/jscap/jcap.js,/lib/jscap/md5.js">//</script></head>
  <body>
    <div id="wrap">
      <div id="header">
        <h1><a href="../index.html" title="home page">mca blog</a></h1>
        <p class="title-desc">life in lowercase</p>
      </div>
      <div id="nav">
        <ul>
          <li><a href="../index.html" title="home page">Home</a></li>
          <li><a href="../categories/index.html" title="blog categories">Categories</a></li>
          <li><a href="../websites/index.html" title="intersting web sites">Web Sites</a></li>
          <li><a href="index.html" title="browse the archives">Archives</a></li>
        </ul>
      </div>
      <div id="main">
        <h2 class="dc-title">GET and POST are RESTful enough</h2>
        <div class="weblog">
          <div class="wb-header"><span class="foaf-maker" style="display:none;"><a href="http://www.amundsen.com/blog/author/mamund" title="Posted by mamund">mamund</a></span><span class="logdate" style="margin-left:1em;">2010-06-22 @ 08:34</span><span class="permalink"><a href="1063.html" title="perma-link">#</a></span></div>
          <div class="dc-description"><p>
<a href="http://www.flickr.com/photos/papaija2008/3597264901/" title="Sleeping beauty">
<img src="http://farm4.static.flickr.com/3405/3597264901_83c5ce2c23_t.jpg" align="right" class="inline" />
</a>
every once in a while i get into a discussion about the REST arch style w/ a person who is under the impression that, 
unless you use the HTTP methods 
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.6" title="PUT">PUT</a> and 
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.7" title="DELETE">DELETE</a>, 
your app is not RESTful. this is not correct. 
<a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm" title="Representational State Transfer (REST)">REST</a> 
is not concerned w/ which methods you are using. 
<a href="http://www.w3.org/Protocols/rfc2616/rfc2616.html" title="Hypertext Transfer Protocol -- HTTP/1.1 ">HTTP</a>, 
however, requires your application use any HTTP methods <i>correctly</i>. 
</p>

<h4>is it safe?</h4>
<p>
  for example, it's important that implementations do not use safe methods (e.g. 
  <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.3" title="GET">GET</a> and 
  <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.4" title="HEAD">HEAD</a>) to
  perform unsafe operations (e.g. writing data). the classic example of using safe methods to 
  peform unsafe operations is:
</p>
<pre class="code">
  GET /users/123?action=delete
</pre>
<p>
  since HTTP defines GET as "safe", caches and other proxies will assume (based on the spec) that it's fine to perform "pre-fetch" 
  on these URIs and/or cache and replay the responses as needed. with the URI example given above, it's possible that bots and
  other intermediaries will blissfully delete content from servers even when that is not the intention. bummer, eh? 
</p>
<p>
  happily, there's an easy fix for this problem. <i><b>don't use safe methods for unsafe operations!</b></i>
</p>
<h4>POST is not enough?</h4>
<p>
  another common notion is that using only 
  <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9.5" title="POST">POST</a> 
  for all write operations is not RESTful. IOW, you can't claim your implementation supports REST unless it utilizes PUT and/or DELETE. 
  this incorrect assumption is often a side-effect of viewing REST <i>only</i> through the lens of 
  <a href="http://en.wikipedia.org/wiki/Create,_read,_update_and_delete" title="Create, read, update and delete">CRUD</a> operations; 
  that REST == CRUD over HTTP. again. while it is <i>possible</i> to do CRUD over HTTP, that's not REST; 
  that's CRUD over HTTP. <i>not that there's anything wrong w/ that</i>. 
</p>
<p>
  it's perfectly fine to use POST for write operations; specifically <i>update</i> operations for existing 
  resources. yes, PUT has additional semantics defined by HTTP (not REST) that make it very helpful
  for updates, but (<i>again</i>) that's HTTP, not REST.
</p>
<h4>please, let's move on</h4>
<p>
  about a year ago, Roy Fielding addressed this mis-understanding about POST for updates on his blog:
</p>
<blockquote>
  <p>
    I think the anti-POST meme got started because of all the arguments against tunneling other protocols 
    via HTTP?s POST (e.g., SOAP, RSS, IPP, etc.). Somewhere along the line people started equating the 
    REST arguments of ?don?t violate HTTP?s method definitions? and ?always use GET for retrieval because 
    that forces the resource to have a URI? with the paper tiger of ?POST is bad.?
  </p>
  <p>
    Please, let?s move on. We don?t need to use PUT for every state change in HTTP. REST has never said that we should.
  </p>
  <p align="right">
    Roy, T. Fielding, Mar-2009 : 
    <a href="http://roy.gbiv.com/untangled/2009/it-is-okay-to-use-post" title="It is okay to use POST">It is okay to use POST</a>
  </p>
</blockquote>
<h4>but can i really do it all w/ just GET and POST?</h4>
<p>
  sure you can; it's been done that way for many years. nothing magical is needed. 
  no <a href="http://www.pluralsight-training.net/community/blogs/dbox/archive/2007/01/16/45725.aspx" title="X-HTTP-Method-Override and HTTP Extension Framework">special headers</a>; 
  no <a href="http://www.mediawiki.org/wiki/Manual:Parameters_to_index.php#Actions" title="MediaWiki:Parameters to index.php">action arguments</a> in the URI;
  no <a href="https://cwiki.apache.org/WW/html-form-buttons-howto.html" title="Apache Struts HTML form buttons HOWTO">method parameter</a> in the body of the message.
</p>
<p>
  one (simple) way to handle write actions for method-restricted environments is to treat these writes as "queued"
  operations on the server. for example, expose public resources where writing to the server is handled via requests that are added
  to a list for processing:
</p>
<pre class="code">
  POST /users/pending-updates/
  OR
  POST /users/pending-deletes/
</pre>
<p>
  this pattern lets your provide clients w/ feedback on the processing of these requests via a GET against that same <code>/pending...</code>
  resource (or a sub-ordinate resource that represents each change request). this model even supports long-running processes if you return <code>202 Accepted</code> as the status and direct clients
  to view the GET-able resource to see progress reports.
</p>
<p>
  implmentations like the one shown above work because HTTP allows the <i>resource</i> model (RM) 
  to be abstracted from the <i>data/object/storage</i> model (DOSM). it's perfectly fine - advisable, in fact - to express a public 
  RM that differs from the server's internal DOSM. so, when the HTTP methods available are restricted 
  (usually due to client limitations), you only need to focus on an appropriate RM to match the implementation environment and not try to jerry-mander the server's internal DOSM based on this partiular restriction.
</p>
<h4>we'll do it 'live'</h4>
<p>
  even better, you don't need a single RM for all clients of all types. instead, you can use 
<a href="../../hypermedia/hfactor.html" title="Hypermedia Factors">hypermedia</a> controls within the response representations 
  to return the "next steps" appropriate for the particular client; thereby referencing the appropriate RM space for that interaction. for example, browser-based, non-scripted
  agents limited to HTML 4.x <code>FORM</code> elements that support only GET and POST can be sent representations that
  point the client to <code>/pending...</code> resources like the ones illustrated earlier. at the same time, full-featured 
  clients (e.g. desktop applications w/ a fully-functional HTTP-client library) can be sent representations that contain 
  hypermedia controls that support PUT and DELETE.   
</p>
<p>
  since HTTP abstracts interactions into <b>resources</b> w/ <b>representations</b> addressed via <b>URI</b>s, making runtime adjustments is
  not only possible, it's <i>designed into the protocol</i>. by combining these levels of abstraction w/ the 
  <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5" title="Uniform Interface"><b>hypermedia constraint</b></a> 
  described in 
  <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm" title="Architectural Styles and the Design of Network-based Software Architectures">Fielding's dissertation</a>
  you can achieve a very flexible implementation that is not only HTTP-compliant, but also
  supports key principles of the REST architectural style across multiple environments; 
  <i><b>even ones restricted to using only GET and POST</b></i>. 
</p></div>
          <p class="category"><a href="index.html%3Fcategory=22.html" title="more from REST...">REST</a></p>
          <hr><a id="comments"></a><script>
						var idcomments_acct = 'b941b488f39712a0d6409992a0d7fc47';
						var idcomments_post_id;
						var idcomments_post_url;
					</script><span id="IDCommentsPostTitle" style="display:none"></span><script type="text/javascript" src="http://www.intensedebate.com/js/genericCommentWrapperV2.js"></script></div>
        <div> </div>
      </div>
      <div id="sidebar">
        <h4>categories</h4>
        <ul>
          <li><a href="index.html%3Fcategory=33.html">Systems</a></li>
          <li><a href="index.html%3Fcategory=32.html">CA</a></li>
          <li><a href="index.html%3Fcategory=31.html">IoT</a></li>
          <li><a href="index.html%3Fcategory=30.html">ALPS</a></li>
          <li><a href="index.html%3Fcategory=29.html">API</a></li>
          <li>[<a href="../categories/index.html%3Fall.html" title="view all categories">all</a>]</li>
        </ul>
        <h4>websites</h4>
        <ul>
          <li><a href="../websites/32.html">Untangled</a></li>
          <li><a href="../websites/31.html">Anne’s Weblog</a></li>
          <li><a href="../websites/30.html">exyus</a></li>
          <li><a href="../websites/29.html">Random Stuff</a></li>
          <li><a href="../websites/28.html">JScript Blog</a></li>
          <li>[<a href="../websites/index.html%3Fall.html" title="view all websites">all</a>]</li>
        </ul>
        <h4>archives</h4>
        <ul>
          <li><a href="index.html%3Ftoday.html" title="today's posts">today</a></li>
          <li><a href="index.html%3Fyesterday.html" title="yesterday's posts">yesterday</a></li>
          <li><a href="index.html%3Fthisweek.html" title="this weeks's posts">this week</a></li>
          <li><a href="index.html%3Flastweek.html" title="last week's posts">last week</a></li>
          <li><a href="index.html%3Fthismonth.html" title="this month's posts">this month</a></li>
          <li><a href="index.html%3Flastmonth.html" title="last month's posts">last month</a></li>
          <li>
								[<a href="index.html" title="browse the archives">browse</a>]
							</li>
        </ul>
        <div> </div>
        <div><xscript type="text/javascript" src="http://plancast.com/goodies/widgets/sidebar/1/15731">// plancast</xscript></div>
        <div id="twitter_div">
          <h4>my tweets</h4>
          <ul id="twitter_update_list"></ul>
          <div class="twitter-link"><a href="http://twitter.com/mamund" title="follow me on Twitter">
									follow me
								</a></div>
          <hr class="empty">
        </div>
      </div>
      <div id="ads" style="text-align:center;"><script type="text/javascript">
							google_ad_client = "pub-2944238157647009";
							google_ad_width = 728;
							google_ad_height = 90;
							google_ad_format = "728x90_as";
							google_ad_type = "text";
							//2007-08-10: amundsen.com
							google_ad_channel = "2960096544";
							google_color_border = "000000";
							google_color_bg = "F0F0F0";
							google_color_link = "000000";
							google_color_text = "000000";
							google_color_url = "000000";
						</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
      <div id="footer">
        <p>Copyright © 2007-2010 amundsen.com, inc. All rights reserved.</p>
      </div>
    </div><script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script><script type="text/javascript" src="http://twitter.com/statuses/user_timeline/mamund.json?callback=twitterCallback2&amp;count=5"></script><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
					_uacct = "UA-2399548-1";
					urchinTracker();
				</script></body>
</html>