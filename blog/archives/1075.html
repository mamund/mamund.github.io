<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head profile="http://purl.org/NET/erdf/profile">
    <META http-equiv="Content-Type" content="text/html; charset=utf-16">
    <title>
					mca blog
					
									[Hypermedia Continuum = (PO[X|JO]-&gt;Data-&gt;Links-&gt;Hypermedia)]
								</title>
    <link rel="alternate" type="application/x-wiki" title="Edit this blog" href="http://amundsen.com/blog/edit/">
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for mca blog" href="../feed/index.html">
    <link rel="stylesheet" type="text/css" href="http://amundsen.com/server/conflate/?/xcs/blogging/css/blogging.css,/xcs/blogging/css/blogging-layout.css,/xcs/blogging/css/blogging-iran-election.css">
    <link rel="search" type="application/opensearchdescription+xml" title="MikeAmundsen and friends" href="http://wego-wego.appspot.com/friendfeed/mamund/osd/">
    <link rel="schema.rdfs" href="http://www.w3.org/2000/01/rdf-schema#">
    <link rel="schema.dc" href="http://purl.org/dc/elements/1.1/">
    <link rel="schema.foaf" href="http://xmlns.com/foaf/0.1/">
    <link rel="schema.bio" href="http://vocab.org/bio/0.1/">
    <link rel="schema.contact" href="http://www.w3.org/2000/10/swap/pim/contact#">
    <link rel="schema.air" href="http://www.daml.org/2001/10/html/airport-ont#">
    <link rel="schema.wn" href="http://xmlns.com/wordnet/1.6/">
    <link rel="schema.rss" href="http://purl.org/rss/1.0/">
    <link rel="schema.terms" href="http://purl.org/dc/terms/">
    <link rel="schema.rel" href="http://purl.org/vocab/relationship/">
    <link rel="schema.geo" href="http://www.w3.org/2003/01/geo/wgs84_pos#">
    <link rel="schema.aff" href="http://purl.org/vocab/affiliations/0.1/">
    <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
    <link rel="schema.org" href="http://purl.org/vocab/organizations/0.1/">
    <link rel="schema.psych" href="http://purl.org/vocab/psychometric-profile/">
    <link rel="schema.doap" href="http://usefulinc.com/ns/doap#">
    <style type="text/css">
					form
					{
					font-size:small;
					padding:.3em;
					text-align:center;
					}
					input
					{
					font-size:x-small;
					}
					#twitter_div
					{
					/*
					width:95%
					padding:.2em;
					border:1px solid black;
					*/
					}
					#twitter_div h2
					{
					margin:0;
					padding:0;
					float:right;
					}
					.twitter-title
					{

					}
					#twitter_update_list
					{
					font-family:monospace;
					list-style:none;
					margin:0;
					padding:0;
					float:none;
					clear:both;
					}
					#twitter_update_list li
					{
					border:1px solid silver;
					background-color:#e6e6e6;
					margin:.2em .2em;
					}
					.twitter-link
					{
					display:block;
					float:right;
					margin-right: .7em;
					}
					#twitter_div a
					{
					text-decoration:none;
					}
					#twitter_div a:hover
					{
					text-decoration:underline;
					}
					.empty
					{
					float:none;
					clear:both;
					visibility:hidden;
					margin:0;
					padding:0;
					}
				</style><script type="text/javascript" src="http://amundsen.com/server/conflate/?/xcs/blogging/scripts/blogging.js,/lib/jscap/jcap.js,/lib/jscap/md5.js">//</script></head>
  <body>
    <div id="wrap">
      <div id="header">
        <h1><a href="../index.html" title="home page">mca blog</a></h1>
        <p class="title-desc">life in lowercase</p>
      </div>
      <div id="nav">
        <ul>
          <li><a href="../index.html" title="home page">Home</a></li>
          <li><a href="../categories/index.html" title="blog categories">Categories</a></li>
          <li><a href="../websites/index.html" title="intersting web sites">Web Sites</a></li>
          <li><a href="index.html" title="browse the archives">Archives</a></li>
        </ul>
      </div>
      <div id="main">
        <h2 class="dc-title">Hypermedia Continuum = (PO[X|JO]-&gt;Data-&gt;Links-&gt;Hypermedia)</h2>
        <div class="weblog">
          <div class="wb-header"><span class="foaf-maker" style="display:none;"><a href="http://www.amundsen.com/blog/author/mamund" title="Posted by mamund">mamund</a></span><span class="logdate" style="margin-left:1em;">2010-09-30 @ 11:55</span><span class="permalink"><a href="1075.html" title="perma-link">#</a></span></div>
          <div class="dc-description"><p>
<a href="http://www.flickr.com/photos/scene-sc/104096874/" title="Colorful stairs">
<img src="http://farm1.static.flickr.com/43/104096874_39df20ea3a_t.jpg" align="right" class="inline" />
</a>
  When I talk to developers about the 
  <a href="http://www.amundsen.com/blog/archives/1069" title="the advantages of hypermedia types">advantages</a> 
  of using Hypermedia types in your distributed network apps, 
  I usually get lots of positive feedback. But almost as often I hear from devs that they are not really
  sure how to get started; how to move from their current "type-less" implemenation to a "hypermedia-typed"
  one. In this post, I describe possible path for shops that want to 
  move toward a more hypermedia-oriented experience.
</p>
<blockquote>
<b>WARNING</b>: There be dragons ahead.<br />
Don't go here unless you are sure 
you'd rather 'roll your own' [hyper]media type instead of using an existing,
<a href="http://www.iana.org/assignments/media-types/">properly registered</a> one such as 
<a href="../../hypermedia/html/index.html">[X]HTML</a> or 
<a href="../../hypermedia/atom/index.html">Atom</a>.
</blockquote>
<p>
  Creating a custom media-type for internal use does not need to be very complicated. If you 
  are working on a localized application and want to get everyone using the same
  state-transfer contract, you can use a simple media type that has just a few 'hooks' and allows
  for future expansion as your needs grow. You can use this handy set of examples to orchestrate your 
  move as far along the "hypermedia continuum" as you wish.
</p> 
<h4>POX and POJO : The Object Container</h4> 
<p> 
  An easy start is to adopt a simple data format that takes on properties of both 
  <a href="../../hypermedia/html/index.html">[X]HTML</a> and 
  <a href="../../hypermedia/atom/index.html">Atom</a>.
  The &lt;body /&gt; portion can hold a serialization of a custom object (ala Atom-style) at the beginning.
  This makes it easy for developers to use existing frameworks when crafting messages. This can be done using
  most existing frameworks that can convert internal objects into XML and/or JSON serializations. Here's a
  an example 'skeleton' in XML:
</p> 
<pre> 
&lt;root&gt;
  &lt;meta&gt;
    &lt;!-- meta-data, system info, etc. can go here --&gt;
  &lt;/meta&gt;
  &lt;body&gt;
    &lt;user&gt;
      &lt;email&gt;&lt;/email&gt;
      &lt;username&gt;&lt;/username&gt;
      &lt;date-created&gt;&lt;/date-created&gt;
    &lt;/user&gt;
  &lt;/body&gt;
  &lt;error&gt;
    &lt;!-- place any error details (text, stack trace, etc.) here --&gt;
  &lt;/error&gt;
&lt;/root&gt;
</pre> 
<h4>Data : The Standardized Data Representation</h4> 
<p> 
  The next step is to standardize the representation of data in the &lt;body /&gt; section of the message.
  IOW, eliminate the use of the object serialization pattern and use an agreed data format that is not 
  bound to server-side storage|object-types. One simple format is to adopt a generic flat name-value pair 
  (NVP) pattern:
</p> 
<pre> 
&lt;root&gt;
  &lt;meta&gt;
    &lt;!-- meta-data, system info, etc. can go here --&gt;
  &lt;/meta&gt;
  &lt;body&gt;
    &lt;item name="user"&gt;
      &lt;data name="email"&gt;&lt;/data&gt;
      &lt;data name="username"&gt;&lt;/data&gt;
      &lt;data name="date-created"&gt;&lt;/data&gt;
    &lt;/item name="user"&gt;
  &lt;/body&gt;
  &lt;error&gt;
    &lt;!-- place any error details (text, stack trace, etc.) here --&gt;
  &lt;/error&gt;
&lt;/root&gt;
</pre> 
<p> 
  Using a dedicated data format like this will add some work for developers; they will need to drop the habit
  of blindly serializing internal objects as public messages. However, once a simple conversion utility is built, it
  is relatively easy to read/write a data format like this. Even better, if you need to add new elements, they can
  appear as one more in the collection. This makes evolving the messages trivial.
</p> 
<h4> Links : Unbinding the Client</h4>
<p>
  In the previous example, any client that understands the data format can understand the contents of the message.
  However, "any client" cannot determine which items are writeable, which URIs to use when reading or writing data, etc.
  In other words, clients are still "bound" to the Read/Write rules (semantics) established ahead of time in documentation.
  Any change in these rules (new URIs, different elements to read/write) will require a change in the client. 
</p>
<p>
  The first step in creating an environment that allows servers to make changes in the details of the message w/o
  requiring re-coding clients is to pull the actual URIs (links) out of the written documentation and insert them
  directly in the messages themselves. Here's a simple example:
</p>
<pre> 
&lt;root href="..."&gt;
  &lt;meta&gt;
    &lt;!-- meta-data, system info, etc. can go here --&gt;
  &lt;/meta&gt;
  &lt;body&gt;
    &lt;item name="user" href="..."&gt;
      &lt;data name="email"&gt;&lt;/data&gt;
      &lt;data name="username"&gt;&lt;/data&gt;
      &lt;data name="date-created"&gt;&lt;/data&gt;
    &lt;/item name="user"&gt;
  &lt;/body&gt;
  &lt;error&gt;
    &lt;!-- place any error details (text, stack trace, etc.) here --&gt;
  &lt;/error&gt;
&lt;/root&gt;
</pre> 
<p>
  By sending the actual URIs in the messages, clients
  can be "trained" to locate and use the URIs to read and write data. This means the server can change URIs at any time
  w/o requiring the client to be updated or re-coded. This is the first major step toward creating a [hyper]media type that
  generic clients can use to read and write data to any server that uses that hypermedia type.
</p>
<h4>Hypermedia : App Controls</h4> 
<p> 
  In the previous examples, all hypermedia information must be encoded in the client and server themselves.
  For example, knowing what data to write, which HTTP method to use when 
  writing, etc. However, you can greatly increase the value of your data format by adding this semantic information
  into the messages themselves. This takes more planning and requires additional coding (mostly for clients),
  but can pay off in the long run. Here's a simple example:
</p> 
<pre> 
&lt;root&gt;
  &lt;meta&gt;
    &lt;!-- meta data, system info, etc. can go here --&gt;
  &lt;/meta&gt;
  &lt;body&gt;
    &lt;!-- allow searching for one or more users using HTTP GET --&gt;
    &lt;query href="..." rel="search"&gt;
      &lt;data name="username" /&gt;
    &lt;/query&gt;
    &lt;!-- allow writing data : if rel contains "update", use HTTP PUT --&gt;
    &lt;write href="..." rel="user update"&gt;
      &lt;data name="email"&gt;&lt;/data&gt;
      &lt;data name="username"&gt;&lt;/data&gt;
      &lt;data name="date-created"&gt;&lt;/data&gt;
    &lt;/write&gt;
    &lt;!-- if rel contains "add" use HTTP POST --&gt;
    &lt;write href="..." rel="user add"&gt;
      &lt;data name="email"&gt;&lt;/data&gt;
      &lt;data name="username"&gt;&lt;/data&gt;
      &lt;data name="date-created"&gt;&lt;/data&gt;
    &lt;/write&gt;
  &lt;/body&gt;
  &lt;error&gt;
    &lt;!-- place any error details (text, stack trace, etc.) here --&gt;
  &lt;/error&gt;
&lt;/root&gt;
</pre> 
<p> 
Using Hypermedia controls in the message means clients need to be coded to search for and understand
the various pre-defined controls (in this example they are "query" and "write"). Although this takes
additional work at first, it means future messages can be crafted w/ new or changed semantics w/o
requiring a rewrite of the client code.
</p> 
<p>
  Clients that understand the semantics within a message (via the application controls) will be able to 
  understand and properly handle entirely new messages (not just "users" but "customers", "orders", etc.)
  without requiring re-coding. Not only will the same client be able to <i>read</i> new data, but also
  <i>write</i> data to the server based on the details sent in the message. All without the need for
  re-writing and re-deploying the client code.
</p>
<h4>Going Beyond Simple</h4> 
<p> 
This is example Hypermedia format, while useful, is very simple. There are lots of features that could
be added, maybe <i>required</i> to make a data format into a useful media type. The point is that, starting this way
means you can create a focus on using media-types as a fundamental aspect of your overall architecture.
By doing so, you get a whole bunch of 'win' without much upfront cost.
</p>
</div>
          <p class="category"><a href="index.html%3Fcategory=20.html" title="more from Hypermedia...">Hypermedia</a></p>
          <hr><a id="comments"></a><script>
						var idcomments_acct = 'b941b488f39712a0d6409992a0d7fc47';
						var idcomments_post_id;
						var idcomments_post_url;
					</script><span id="IDCommentsPostTitle" style="display:none"></span><script type="text/javascript" src="http://www.intensedebate.com/js/genericCommentWrapperV2.js"></script></div>
        <div> </div>
      </div>
      <div id="sidebar">
        <h4>categories</h4>
        <ul>
          <li><a href="index.html%3Fcategory=33.html">Systems</a></li>
          <li><a href="index.html%3Fcategory=32.html">CA</a></li>
          <li><a href="index.html%3Fcategory=31.html">IoT</a></li>
          <li><a href="index.html%3Fcategory=30.html">ALPS</a></li>
          <li><a href="index.html%3Fcategory=29.html">API</a></li>
          <li>[<a href="../categories/index.html%3Fall.html" title="view all categories">all</a>]</li>
        </ul>
        <h4>websites</h4>
        <ul>
          <li><a href="../websites/32.html">Untangled</a></li>
          <li><a href="../websites/31.html">Anne’s Weblog</a></li>
          <li><a href="../websites/30.html">exyus</a></li>
          <li><a href="../websites/29.html">Random Stuff</a></li>
          <li><a href="../websites/28.html">JScript Blog</a></li>
          <li>[<a href="../websites/index.html%3Fall.html" title="view all websites">all</a>]</li>
        </ul>
        <h4>archives</h4>
        <ul>
          <li><a href="index.html%3Ftoday.html" title="today's posts">today</a></li>
          <li><a href="index.html%3Fyesterday.html" title="yesterday's posts">yesterday</a></li>
          <li><a href="index.html%3Fthisweek.html" title="this weeks's posts">this week</a></li>
          <li><a href="index.html%3Flastweek.html" title="last week's posts">last week</a></li>
          <li><a href="index.html%3Fthismonth.html" title="this month's posts">this month</a></li>
          <li><a href="index.html%3Flastmonth.html" title="last month's posts">last month</a></li>
          <li>
								[<a href="index.html" title="browse the archives">browse</a>]
							</li>
        </ul>
        <div> </div>
        <div><xscript type="text/javascript" src="http://plancast.com/goodies/widgets/sidebar/1/15731">// plancast</xscript></div>
        <div id="twitter_div">
          <h4>my tweets</h4>
          <ul id="twitter_update_list"></ul>
          <div class="twitter-link"><a href="http://twitter.com/mamund" title="follow me on Twitter">
									follow me
								</a></div>
          <hr class="empty">
        </div>
      </div>
      <div id="ads" style="text-align:center;"><script type="text/javascript">
							google_ad_client = "pub-2944238157647009";
							google_ad_width = 728;
							google_ad_height = 90;
							google_ad_format = "728x90_as";
							google_ad_type = "text";
							//2007-08-10: amundsen.com
							google_ad_channel = "2960096544";
							google_color_border = "000000";
							google_color_bg = "F0F0F0";
							google_color_link = "000000";
							google_color_text = "000000";
							google_color_url = "000000";
						</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
      <div id="footer">
        <p>Copyright © 2007-2010 amundsen.com, inc. All rights reserved.</p>
      </div>
    </div><script type="text/javascript" src="http://twitter.com/javascripts/blogger.js"></script><script type="text/javascript" src="http://twitter.com/statuses/user_timeline/mamund.json?callback=twitterCallback2&amp;count=5"></script><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
					_uacct = "UA-2399548-1";
					urchinTracker();
				</script></body>
</html>